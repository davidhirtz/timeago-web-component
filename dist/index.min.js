(()=>{var H=365.2425,p=Math.pow(10,8)*24*60*60*1e3,A=-p,W=6048e5,q=864e5,x=6e4,z=36e5,I=3600,E=60,d=I*24,Q=d*7,y=d*H,_=y/12,j=_*3,w=Symbol.for("constructDateFrom");function b(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&w in e?e[w](t):e instanceof Date?new e.constructor(t):new Date(t)}function l(e,t){return b(t||e,e)}var L={};function R(){return L}function v(e,t){const r=R(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=l(e,t?.in),s=a.getDay(),o=(s<n?7:0)+s-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function u(e){const t=l(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function c(e,...t){const r=b.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function O(e,t){const r=l(e,t?.in);return r.setHours(0,0,0,0),r}function m(e,t,r){const[n,a]=c(r?.in,e,t),s=O(n),o=O(a),f=+s-u(s),i=+o-u(o);return Math.round((f-i)/q)}function T(e,t,r){const[n,a]=c(r?.in,e,t),s=n.getFullYear()-a.getFullYear(),o=n.getMonth()-a.getMonth();return s*12+o}function k(e,t){const r=l(e,t?.in);return Math.trunc(r.getMonth()/3)+1}function D(e,t,r){const[n,a]=c(r?.in,e,t),s=n.getFullYear()-a.getFullYear(),o=k(n)-k(a);return s*4+o}function F(e,t,r){const[n,a]=c(r?.in,e,t),s=v(n,r),o=v(a,r),f=+s-u(s),i=+o-u(o);return Math.round((f-i)/W)}function h(e,t,r){const[n,a]=c(r?.in,e,t);return n.getFullYear()-a.getFullYear()}function M(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function S(e,t,r){const[n,a]=c(r?.in,e,t),s=(+n-+a)/z;return M(r?.roundingMethod)(s)}function Y(e,t){return+l(e)-+l(t)}function C(e,t,r){const n=Y(e,t)/x;return M(r?.roundingMethod)(n)}function g(e,t,r){const n=Y(e,t)/1e3;return M(r?.roundingMethod)(n)}function U(e,t,r){let n=0,a;const[s,o]=c(r?.in,e,t);if(r?.unit)a=r?.unit,a==="second"?n=g(s,o):a==="minute"?n=C(s,o):a==="hour"?n=S(s,o):a==="day"?n=m(s,o):a==="week"?n=F(s,o):a==="month"?n=T(s,o):a==="quarter"?n=D(s,o):a==="year"&&(n=h(s,o));else{const i=g(s,o);Math.abs(i)<E?(n=g(s,o),a="second"):Math.abs(i)<I?(n=C(s,o),a="minute"):Math.abs(i)<d&&Math.abs(m(s,o))<1?(n=S(s,o),a="hour"):Math.abs(i)<Q&&(n=m(s,o))&&Math.abs(n)<7?a="day":Math.abs(i)<_?(n=F(s,o),a="week"):Math.abs(i)<j?(n=T(s,o),a="month"):Math.abs(i)<y&&D(s,o)<4?(n=D(s,o),a="quarter"):(n=h(s,o),a="year")}return new Intl.RelativeTimeFormat(r?.locale,{numeric:"auto",...r}).format(n,a)}window.customElements.define("x-timeago",class extends HTMLElement{connectedCallback(){const e=this;try{e.d=new Date(e.dataset.date||e.textContent),e.l=e.dataset.locale||document.documentElement.lang||new Intl.DateTimeFormat().resolvedOptions().locale}catch(t){console.error(t);return}e.title||(e.title=e.d.toLocaleString(e.l)),e.set()}disconnectedCallback(){clearTimeout(this.t)}set(){const e=this,t=new Date,r=Math.abs(t.getTime()-e.d.getTime());e.textContent=U(e.d,t,{locale:e.l}),e.t=setTimeout(()=>e.set(),r<6e4?1e3:6e4)}})})();
