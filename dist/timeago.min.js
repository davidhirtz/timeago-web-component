(()=>{var T=365.2425,w=Math.pow(10,8)*24*60*60*1e3,Q=-w,k=6048e5,F=864e5,p=6e4,C=36e5,D=3600,Y=60,u=D*24,H=u*7,M=u*T,g=M/12,q=g*3,h=Symbol.for("constructDateFrom");function I(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&h in e?e[h](t):e instanceof Date?new e.constructor(t):new Date(t)}function i(e,...t){const n=I.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function c(e,t){return I(t||e,e)}function l(e){const t=c(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function v(e,t){const n=c(e,t?.in);return n.setHours(0,0,0,0),n}function y(e,t,n){const[r,a]=i(n?.in,e,t),o=v(r),s=v(a),d=+o-l(o),m=+s-l(s);return Math.round((d-m)/F)}function x(e,t,n){const[r,a]=i(n?.in,e,t),o=r.getFullYear()-a.getFullYear(),s=r.getMonth()-a.getMonth();return o*12+s}var W={};function E(){return W}function _(e,t){const n=E(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=c(e,t?.in),o=a.getDay(),s=(o<r?7:0)+o-r;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function z(e,t,n){const[r,a]=i(n?.in,e,t),o=_(r,n),s=_(a,n),d=+o-l(o),m=+s-l(s);return Math.round((d-m)/k)}function j(e,t,n){const[r,a]=i(n?.in,e,t);return r.getFullYear()-a.getFullYear()}function f(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function L(e,t,n){const[r,a]=i(n?.in,e,t),o=(+r-+a)/C;return f(n?.roundingMethod)(o)}function b(e,t){return+c(e)-+c(t)}function R(e,t,n){const r=b(e,t)/p;return f(n?.roundingMethod)(r)}function O(e,t,n){const r=b(e,t)/1e3;return f(n?.roundingMethod)(r)}var S=new Intl.RelativeTimeFormat(document.documentElement.lang||new Intl.DateTimeFormat().resolvedOptions().locale,{numeric:"auto"}),U=(e,t)=>{let n=0,r;const[a,o]=i(null,e,t),s=O(a,o);return Math.abs(s)<Y?(n=O(a,o),r="second"):Math.abs(s)<D?(n=R(a,o),r="minute"):Math.abs(s)<u&&Math.abs(y(a,o))<1?(n=L(a,o),r="hour"):Math.abs(s)<H&&(n=y(a,o))&&Math.abs(n)<7?r="day":Math.abs(s)<g?(n=z(a,o),r="week"):Math.abs(s)<M?(n=x(a,o),r="month"):(n=j(a,o),r="year"),S.format(n,r)};customElements.get("x-timeago")||customElements.define("x-timeago",class extends HTMLElement{t;d;connectedCallback(){const e=this;e.d=new Date(e.dataset.date||e.textContent),e.d.toString()!=="Invalid Date"&&(e.title||(e.title=e.d.toLocaleString(S.locale)),e.set())}disconnectedCallback(){clearTimeout(this.t)}set(){const e=this,t=new Date,n=Math.abs(t.getTime()-e.d.getTime());e.textContent=U(e.d,t),e.t=setTimeout(()=>e.set(),n<6e4?1e3:6e4)}})})();
